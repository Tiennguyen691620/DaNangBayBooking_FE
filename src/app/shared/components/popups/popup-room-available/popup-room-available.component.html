<div class="card py-3 px-4 border-0 mb-3">
  <p class="f-title fw-500 mb-3">Tình trạng phòng trống theo thời gian</p>
  <div class="d-flex flex-wrap justify-content-around">
    <div class="d-flex align-items-center me-3 mb-2">
      <div class="d-flex align-items-center">
        <div class="font-dot"></div>
        <div class="label-fromDate color-label ms-2">Từ ngày</div>
      </div>
      <div class="position-relative">
        <nz-date-picker class="form-control" nzFormat='dd / MM / yyyy' nzPlaceHolder='_ _ / _ _ / _ _ _ _' [(ngModel)]="filterModel.fromDate"
          (ngModelChange)="filter()" [nzSuffixIcon]="null">
        </nz-date-picker>
        <!-- <img src="/assets/images/icon-calendar.svg" class="img-bir-1" alt=""> -->
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 20 20" class="img-bir">
          <g id="ic-calendar" transform="translate(-2 -2)">
            <path id="Path_445" data-name="Path 445" d="M0,0H20V20H0Z" transform="translate(2 2)" fill="none" />
            <rect id="Rectangle_608" data-name="Rectangle 608" width="16" height="16" rx="2" transform="translate(4 5)" fill="none" stroke="#7e84a3"
              stroke-linecap="round" stroke-linejoin="round" stroke-width="1" />
            <line id="Line_31" data-name="Line 31" y2="4" transform="translate(16 3)" fill="none" stroke="#7e84a3" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="1" />
            <line id="Line_32" data-name="Line 32" y2="4" transform="translate(8 3)" fill="none" stroke="#7e84a3" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="1" />
            <line id="Line_33" data-name="Line 33" x2="16" transform="translate(4 11)" fill="none" stroke="#7e84a3" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="1" />
          </g>
        </svg>
      </div>

    </div>

    <div class="d-flex align-items-center me-3 mb-2">
      <div class="d-flex align-items-center">
        <div class="font-dot"></div>
        <div class="label-fromDate color-label ms-2">Đến ngày</div>
      </div>
      <div class="position-relative">
        <nz-date-picker class="form-control" nzFormat='dd / MM / yyyy' nzPlaceHolder='_ _ / _ _ / _ _ _ _' [(ngModel)]="filterModel.toDate"
          (ngModelChange)="filter()" [nzSuffixIcon]="null">
        </nz-date-picker>
        <!-- <img src="/assets/images/icon-calendar.svg" class="img-bir-1" alt=""> -->
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 20 20" class="img-bir">
          <g id="ic-calendar" transform="translate(-2 -2)">
            <path id="Path_445" data-name="Path 445" d="M0,0H20V20H0Z" transform="translate(2 2)" fill="none" />
            <rect id="Rectangle_608" data-name="Rectangle 608" width="16" height="16" rx="2" transform="translate(4 5)" fill="none" stroke="#7e84a3"
              stroke-linecap="round" stroke-linejoin="round" stroke-width="1" />
            <line id="Line_31" data-name="Line 31" y2="4" transform="translate(16 3)" fill="none" stroke="#7e84a3" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="1" />
            <line id="Line_32" data-name="Line 32" y2="4" transform="translate(8 3)" fill="none" stroke="#7e84a3" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="1" />
            <line id="Line_33" data-name="Line 33" x2="16" transform="translate(4 11)" fill="none" stroke="#7e84a3" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="1" />
          </g>
        </svg>
      </div>

    </div>
    <!-- <div class="d-flex align-items-center mb-2">
      <div class="label-toDate">Đến ngày:</div>
      <nz-date-picker class="form-control" nzFormat='dd/MM/yyyy' nzPlaceHolder='dd/MM/yyyy'
        [(ngModel)]="filterModel.toDate" (ngModelChange)="filter()">
      </nz-date-picker>
    </div> -->
  </div>
  <div class="table-popup">
    <nz-table #basicTable class="table-list mt-3" [nzFrontPagination]="false" [nzTemplateMode]="true" [nzData]="dataSource" [nzLoading]="false"
      [nzScroll]="{ x: '750px' }" [nzShowTotal]="rangeTemplate" [nzWidthConfig]="getWidthConfig()">
      <thead>
        <th nzLeft="0px" class="text-center">Tên loại phòng</th>
        <th class="text-center">Thuộc loại phòng</th>
        <ng-container *ngFor="let data of qtyPerDateList">
          <th class="text-center">{{data?.date ? (data?.date | date:'dd / MM / yyyy') : ''}}</th>
        </ng-container>
        <th></th>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataSource; let i = index">
          <td nzLeft="0px" class="text-center">{{item?.roomAvailable?.roomName ?? ''}}</td>
          <td class="text-center">{{item?.roomAvailable?.roomTypeName ?? ''}}</td>
          <ng-container *ngFor="let data of item.qtyPerDateList">
            <td class="text-center">{{data?.qty ?? 0}}</td>
          </ng-container>
          <td></td>
        </tr>
      </tbody>
    </nz-table>
    <div *ngIf="(dataSource ?? []).length === 0" class="d-flex justify-content-center mt-3">
      <p class="mb-0">Không có dữ liệu</p>
    </div>
    <div class="d-flex d-block d-sm-none justify-content-center mt-3">
      <button class="btn btn-primary" (click)="cancel()">Đóng</button>
    </div>
  </div>
</div>

<ng-template #rangeTemplate let-range="range" let-total>
  <div class="mt-1">
    Tổng số {{total}}
  </div>
</ng-template>

