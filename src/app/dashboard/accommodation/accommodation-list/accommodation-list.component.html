<section class="acccommodation-list py-4">
  <div class="container">
    <div class="row">
      <div class="search col-5 col-lg-4">
        <div class="row">
          <div class="container card" style="max-width: 330px; background: aliceblue;">
            <div class="mt-2 d-flex align-items-center justify-content-center">
              <h4 class="search-title">Tìm kiếm</h4>
            </div>
            <div class="mt-3">
              <span class="name">Tên chỗ nghỉ:</span>
              <nz-input-group [nzSuffix]="suffixIconSearch" class="px-2 py-0">
                <input type="text" [(ngModel)]="filterModel.searchKey" nzSize="small"  nz-input placeholder="Nhập tên chỗ nghỉ" />
              </nz-input-group>
              <ng-template #suffixIconSearch>
                <i nz-icon nzType="search"></i>
              </ng-template>
            </div>
            <div class="d-flex flex-column mt-3">
              <span class="name">Quận/huyện:</span>
              <nz-select [(ngModel)]="filterModel.districtID" nzSize="small" nzShowSearch nzAllowClear nzPlaceHolder="Chọn Quận/Huyện">
                <nz-option [nzValue]="''" [nzLabel]="'Tất cả'"></nz-option>
                <nz-option  [nzValue]="'6abf0464-599e-11ec-ab77-0639800004fa'" [nzLabel]="'Hội An'"></nz-option>
                <nz-option  [nzValue]="'6abeeb99-599e-11ec-ab77-0639800004fa'" [nzLabel]="'Ngũ Hành Sơn'"></nz-option>
                <nz-option  [nzValue]="'6abee8f0-599e-11ec-ab77-0639800004fa'" [nzLabel]="'Liên Chiểu'"></nz-option>
                <nz-option  [nzValue]="'6abee4df-599e-11ec-ab77-0639800004fa'" [nzLabel]="'Hải Châu'"></nz-option>
                <nz-option  [nzValue]="'6abef09d-599e-11ec-ab77-0639800004fa'" [nzLabel]="'Thanh Khê'"></nz-option>
                <nz-option  [nzValue]="'6abeee3a-599e-11ec-ab77-0639800004fa'" [nzLabel]="'Sơn Trà'"></nz-option>
                </nz-select>
            </div>
            <div class="d-flex flex-column mt-3">
              <span class="name">Thành phố:</span>
              <nz-select [(ngModel)]="filterModel.provinceID" nzSize="small" nzShowSearch nzAllowClear nzPlaceHolder="Chọn Tỉnh/TP">
                <nz-option [nzValue]="''" [nzLabel]="'Tất cả'"></nz-option>
                <nz-option  [nzValue]="'f4f9a2b9-599c-11ec-ab77-0639800004fa'" [nzLabel]="'Quảng Nam'"></nz-option>
                <nz-option  [nzValue]="'f4f99727-599c-11ec-ab77-0639800004fa'" [nzLabel]="'Đà Nẵng'"></nz-option>
              </nz-select>
            </div>
            <div class="my-3 d-flex align-items-center justify-content-center ">
              <button nz-button nzType="primary" nzSize="small" (click)="filter()">Tìm kiếm</button>
            </div>
          </div>
          <div class="container card mt-3 " style="max-width: 330px;">
            <div class="py-3">
              <div class="">
                <h4 class="search-title mt-2 text-center">Chọn lọc theo</h4>
              </div>
              <hr>
              <div class="">
                <nz-collapse nzGhost>
                  <nz-collapse-panel [nzHeader]="'Loại hình lưu trú'" [nzActive]="'true'" [nzDisabled]="'false'">
                    <div class="d-flex flex-column" >
                      <!-- <label class="m-0" [(ngModel)]="checkedAccommodationType" nz-checkbox *ngFor="let item of accommodationType" [nzValue]="item.accommodationTypeID" (ngModelChange)="changeActive($event, item)">{{item.name}}</label> -->
                      <nz-radio-group [(ngModel)]="filterModel.accommodationTypeID" (ngModelChange)="filter()">
                          <div class="grid-start">
                            <label nz-radio [nzValue]="''">Tất cả</label>
                            <label nz-radio *ngFor="let item of accommodationType" [nzValue]="item.accommodationTypeID">{{item.name}}</label>
                          </div>
                      </nz-radio-group>
                    </div>
                  </nz-collapse-panel>
                </nz-collapse>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="content col-7 col-lg-8" >
        <div class="title row">
          <div class="col-10">
            <div class="">
              <h4 class="search-total">Tìm thấy {{totalCount}} chỗ nghỉ</h4>
            </div>
          </div>
          <div class="col-2">
            <div class="d-flex align-items-center justify-content-end pointer" nz-dropdown 
            [nzDropdownMenu]="menu" [nzPlacement]="'bottomRight'">
              <i class="fa-solid fa-arrow-down-short-wide fz-18"></i>
            </div>
            <nz-dropdown-menu #menu="nzDropdownMenu">
              <ul nz-menu>
                <li nz-menu-item (click)="getAll()">Tất cả</li>
                <li nz-menu-item (click)="getSortDesc()">Số sao từ cao xuống thấp</li>
                <li nz-menu-item (click)="getSortAsc()">Số sao từ thấp đến cao</li>
              </ul>
            </nz-dropdown-menu>
          </div>
        </div>
        <div class="acccommodation-list mb-3" *ngFor="let item of dataSource; let i = index">
          <div class="container card">
            <div class="row py-4">
              <div class="col-3 d-none d-lg-block">
                <img [id]="i" *ngIf="item.images?.length > 0" nz-image width="100%" height="160px" class="img border-r" [nzSrc]="item.images[0]?.image" alt="">
              </div>
              <div class="col-12 col-md-7 col-lg-6">
                <div class="d-flex flex-column">
                  <h5 class="acc-name fw-700">{{item.name}}</h5>
                  <div class="d-flex flex-column flex-md-row align-items-center">
                    <div class="accommodation-type">
                      <span class="c-dodgerblue">{{item.accommodationType?.name}}</span>
                    </div>
                    <nz-rate *ngIf="item.point !== 0" class="mb-2 ms-2" [nz-tooltip]="item.point == 5 ? 'tuyệt vời': item.point == 4 ? 'Hoàn hảo' : item.point == 3 ? 'Bình thường' : item.point == 2 ? 'Không tốt' : 'Tệ'" [ngModel]="item.point" nzDisabled></nz-rate>
                  </div>
                  <div class="row align-items-center my-2">
                    <div class="d-flex align-items-center w-fitcontent col-3 " *ngIf="item?.district.locationID == '6abeeb99-599e-11ec-ab77-0639800004fa' ||item?.district.locationID == '6abeee3a-599e-11ec-ab77-0639800004fa'">
                      <svg class="me-2" style="width: 15px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path
                          d="M.153 22.237l.85 1.117c.634.76 1.724.856 2.456.244.078-.066.15-.138.216-.217l.944-1.132a.228.228 0 0 1 .349.001l.944 1.13a1.728 1.728 0 0 0 2.651.001l.944-1.132a.228.228 0 0 1 .349.001l.95 1.132a1.728 1.728 0 0 0 2.65 0l.942-1.133a.228.228 0 0 1 .349.001l.942 1.13a1.728 1.728 0 0 0 2.651.001l.944-1.132a.228.228 0 0 1 .349.001l.94 1.13a1.728 1.728 0 0 0 2.652.001l.585-.7a.75.75 0 1 0-1.15-.962l-.585.7a.228.228 0 0 1-.35 0l-.94-1.13a1.728 1.728 0 0 0-2.652-.001l-.944 1.132a.228.228 0 0 1-.349-.001l-.942-1.13a1.728 1.728 0 0 0-2.651-.001l-.943 1.132a.228.228 0 0 1-.348-.001l-.95-1.132a1.726 1.726 0 0 0-2.65 0l-.944 1.133a.228.228 0 0 1-.349-.001l-.944-1.13a1.728 1.728 0 0 0-2.65 0l-.945 1.13a.228.228 0 0 1-.349-.001l-.828-1.09a.75.75 0 1 0-1.194.91zm11.335-2.68A7.161 7.161 0 0 1 15.77 18h7.481a.75.75 0 0 0 0-1.5h-7.5a8.673 8.673 0 0 0-5.196 1.884.75.75 0 1 0 .934 1.174zM22.285 7.969a1.729 1.729 0 0 0 .781-2.711C19.43.713 12.8-.022 8.256 3.614a10.536 10.536 0 0 0-3.952 8.171A1.73 1.73 0 0 0 6.6 13.427l15.684-5.459zm-.494-1.416L6.107 12.01a.229.229 0 0 1-.304-.218 9.036 9.036 0 0 1 16.09-5.599.228.228 0 0 1-.102.359zm-9.459-4.2L11.69.504a.75.75 0 1 0-1.416.492l.643 1.848a.75.75 0 1 0 1.416-.492zm1.156 7.883l2.527 7.262a.75.75 0 1 0 1.416-.494l-2.527-7.26a.75.75 0 1 0-1.416.492z">
                        </path>
                      </svg>
                      <label for="">Gần biển</label>
                    </div>
                    <div class="d-flex align-items-center w-fitcontent pointer col-4">
                      <i class="fa-solid fa-location-dot c-dodgerblue me-2"></i>
                      <a class="fz-12 text-decoration-none" (click)="viewMap(item)">Xem trên bản đồ</a>
                    </div>
                  </div>
                  <div class="d-none d-sm-block" >
                    <p class="webkit-box-3" [innerHTML]="item?.description | safe: 'html'"></p>
                  </div>
                </div> 
              </div>
              <div class="col-12 col-md-5 col-lg-3">
                <div class="grid-center">
                  <div class="d-flex align-items-center justify-content-md-between justify-content-center mb-2">
                    <div class="d-flex flex-column align-items-end me-2">
                      <span class="fw-700">{{item?.text}}</span>
                      <label for="">{{item?.qty}} đánh giá</label>
                    </div>
                    <div class="bgr-midnightblue border-point py-2 px-3">
                      <span class="c-white">{{item?.point}}</span>
                    </div>
                  </div>
                  <div class="d-block d-lg-none">
                    <img [id]="i" *ngIf="item.images?.length > 0" nz-image width="100%" height="160px" class="img border-r" [nzSrc]="item.images[0]?.image" alt="">
                  </div>
                  <div class="text-center text-md-end mt-2 mt-lg-0">
                    <button nz-button nzType="primary" [routerLink]="['/dashboard/accommodation/detail', item?.accommodationID]" >
                      Xem chi tiết
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <nz-pagination class="d-flex justify-content-center" [nzTotal]="totalCount" [(nzPageSize)]="pageSize" [(nzPageIndex)]="pageIndex" (nzPageIndexChange)="onPageIndexChange($event)" (nzPageSizeChange)="onPageSizeChange($event)"></nz-pagination>
      </div>
    </div>
  </div>
</section>
